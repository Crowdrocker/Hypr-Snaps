# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# KEYBINDINGS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# WehttamSnaps Hyprland Setup
# GitHub: https://github.com/Crowdrocker
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Modifier key
$mainMod = SUPER

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# CORE APPLICATIONS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Terminal - Ghostty
bind = $mainMod, RETURN, exec, ghostty
bind = $mainMod SHIFT, RETURN, exec, ghostty --class=dropdown-terminal

# Application Launcher
bind = $mainMod, D, exec, rofi -show drun -show-icons
bind = $mainMod, SPACE, exec, qs -c noctalia-shell ipc call launcher toggle

# Browser
bind = $mainMod, B, exec, firefox

# File Manager
bind = $mainMod, E, exec, thunar

# Close/Kill Window
bind = $mainMod, Q, killactive,
bind = $mainMod SHIFT, Q, exec, hyprctl kill

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# NOCTALIA SHELL CONTROLS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Control Center
bind = $mainMod, C, exec, qs -c noctalia-shell ipc call controlCenter toggle

# Settings
bind = $mainMod, COMMA, exec, qs -c noctalia-shell ipc call settings toggle

# Clipboard History
bind = $mainMod, V, exec, qs -c noctalia-shell ipc call launcher clipboard
bind = $mainMod ALT, V, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy

# Calculator
bind = $mainMod SHIFT, C, exec, qs -c noctalia-shell ipc call launcher calculator

# Help / Keybindings
bind = $mainMod, H, exec, ~/.config/hypr/scripts/keyhints.sh

# Searchable Keybinds
bind = $mainMod SHIFT, K, exec, ~/.config/hypr/scripts/keybinds-search.sh

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# WEBAPPS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# YouTube
bind = $mainMod SHIFT, Y, exec, ~/.config/hypr/scripts/webapps/youtube.sh

# Twitch
bind = $mainMod SHIFT, T, exec, ~/.config/hypr/scripts/webapps/twitch.sh

# Discord Web
bind = $mainMod SHIFT, D, exec, ~/.config/hypr/scripts/webapps/discord.sh

# Spotify Web
bind = $mainMod SHIFT, S, exec, ~/.config/hypr/scripts/webapps/spotify.sh

# Gmail
bind = $mainMod SHIFT, G, exec, ~/.config/hypr/scripts/webapps/gmail.sh

# Google Maps
bind = $mainMod SHIFT, M, exec, ~/.config/hypr/scripts/webapps/maps.sh

# Netflix
bind = $mainMod SHIFT, N, exec, ~/.config/hypr/scripts/webapps/netflix.sh

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# WINDOW MANAGEMENT
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Fullscreen
bind = $mainMod, F, fullscreen, 0
bind = $mainMod SHIFT, F, fullscreen, 1
bind = $mainMod CTRL, F, fakefullscreen

# Float
bind = $mainMod, SPACE, togglefloating,
bind = $mainMod ALT, SPACE, exec, hyprctl dispatch workspaceopt allfloat

# Pin window
bind = $mainMod, P, pin

# Toggle split
bind = $mainMod, J, togglesplit

# Resize mode
bind = $mainMod, R, submap, resize
submap = resize
binde = , right, resizeactive, 10 0
binde = , left, resizeactive, -10 0
binde = , up, resizeactive, 0 -10
binde = , down, resizeactive, 0 10
binde = , l, resizeactive, 10 0
binde = , h, resizeactive, -10 0
binde = , k, resizeactive, 0 -10
binde = , j, resizeactive, 0 10
bind = , escape, submap, reset
submap = reset

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# WINDOW FOCUS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Arrow keys
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Vim keys
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# WINDOW MOVEMENT
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Arrow keys
bind = $mainMod SHIFT, left, movewindow, l
bind = $mainMod SHIFT, right, movewindow, r
bind = $mainMod SHIFT, up, movewindow, u
bind = $mainMod SHIFT, down, movewindow, d

# Vim keys
bind = $mainMod SHIFT, h, movewindow, l
bind = $mainMod SHIFT, l, movewindow, r
bind = $mainMod SHIFT, k, movewindow, u
bind = $mainMod SHIFT, j, movewindow, d

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# WORKSPACES
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Switch workspace
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move window to workspace
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Cycle workspaces
bind = $mainMod CTRL, right, workspace, e+1
bind = $mainMod CTRL, left, workspace, e-1

# Special workspace (scratchpad)
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# SCREENSHOTS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Full screen
bind = , PRINT, exec, grim ~/Pictures/Screenshots/$(date +'%Y%m%d_%H%M%S').png
bind = $mainMod, PRINT, exec, grim ~/Pictures/Screenshots/$(date +'%Y%m%d_%H%M%S').png

# Region
bind = $mainMod SHIFT, PRINT, exec, grim -g "$(slurp)" ~/Pictures/Screenshots/$(date +'%Y%m%d_%H%M%S').png
bind = $mainMod SHIFT, S, exec, grim -g "$(slurp)" - | swappy -f -

# Active window
bind = ALT, PRINT, exec, grim -g "$(hyprctl activewindow -j | jq -r '&quot;\\(.at[0]),\\(.at[1]) \\(.size[0])x\\(.size[1])&quot;')" ~/Pictures/Screenshots/$(date +'%Y%m%d_%H%M%S').png

# Timer screenshots
bind = $mainMod CTRL, PRINT, exec, sleep 5 && grim ~/Pictures/Screenshots/$(date +'%Y%m%d_%H%M%S').png
bind = $mainMod CTRL SHIFT, PRINT, exec, sleep 10 && grim ~/Pictures/Screenshots/$(date +'%Y%m%d_%H%M%S').png

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# SCREEN RECORDING
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Toggle recording
bind = $mainMod ALT, R, exec, qs -c noctalia-shell ipc call screenRecorder toggle

# Region recording
bind = $mainMod SHIFT, R, exec, ~/.config/hypr/scripts/record-region.sh

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# AUDIO CONTROLS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Volume
binde = , XF86AudioRaiseVolume, exec, qs -c noctalia-shell ipc call volume increase
binde = , XF86AudioLowerVolume, exec, qs -c noctalia-shell ipc call volume decrease
bind = , XF86AudioMute, exec, qs -c noctalia-shell ipc call volume muteOutput

# Alternative volume keys
binde = $mainMod, equal, exec, qs -c noctalia-shell ipc call volume increase
binde = $mainMod, minus, exec, qs -c noctalia-shell ipc call volume decrease
bind = $mainMod, M, exec, qs -c noctalia-shell ipc call volume muteOutput

# Input volume
binde = $mainMod SHIFT, equal, exec, qs -c noctalia-shell ipc call volume increaseInput
binde = $mainMod SHIFT, minus, exec, qs -c noctalia-shell ipc call volume decreaseInput
bind = $mainMod SHIFT, M, exec, qs -c noctalia-shell ipc call volume muteInput

# Media controls
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous
bind = $mainMod, P, exec, playerctl play-pause

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# BRIGHTNESS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

binde = , XF86MonBrightnessUp, exec, qs -c noctalia-shell ipc call brightness increase
binde = , XF86MonBrightnessDown, exec, qs -c noctalia-shell ipc call brightness decrease

# Alternative brightness keys
binde = $mainMod, bracketright, exec, qs -c noctalia-shell ipc call brightness increase
binde = $mainMod, bracketleft, exec, qs -c noctalia-shell ipc call brightness decrease

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# SYSTEM CONTROLS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Lock screen
bind = $mainMod, L, exec, qs -c noctalia-shell ipc call lockScreen toggle
bind = CTRL ALT, L, exec, hyprlock

# Power menu
bind = CTRL ALT, P, exec, wlogout

# Logout
bind = $mainMod SHIFT, L, exec, ~/.config/hypr/scripts/session-menu.sh

# Exit Hyprland
bind = CTRL ALT, DELETE, exit

# Reload config
bind = $mainMod ALT, R, exec, hyprctl reload

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# NOTIFICATIONS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Notification center
bind = $mainMod, N, exec, qs -c noctalia-shell ipc call notifications toggleHistory

# Do Not Disturb
bind = $mainMod SHIFT, N, exec, qs -c noctalia-shell ipc call notifications toggleDND

# Clear notifications
bind = $mainMod CTRL, N, exec, qs -c noctalia-shell ipc call notifications clear

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# APPEARANCE
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Wallpaper selector
bind = $mainMod, W, exec, qs -c noctalia-shell ipc call wallpaper toggle

# Random wallpaper
bind = $mainMod CTRL, SPACE, exec, qs -c noctalia-shell ipc call wallpaper random

# Wallpaper effects
bind = $mainMod SHIFT, W, exec, ~/.config/hypr/scripts/wallpaper-effects.sh

# Dark mode toggle
bind = $mainMod SHIFT, T, exec, qs -c noctalia-shell ipc call darkMode toggle

# Animations menu
bind = $mainMod SHIFT, A, exec, ~/.config/hypr/scripts/animations-menu.sh

# Rofi themes
bind = $mainMod CTRL, R, exec, ~/.config/hypr/scripts/rofi-themes.sh

# Toggle blur
bind = $mainMod ALT, O, exec, ~/.config/hypr/scripts/toggle-blur.sh

# Toggle opacity
bind = $mainMod CTRL, O, exec, ~/.config/hypr/scripts/toggle-opacity.sh

# Toggle bar
bind = $mainMod CTRL ALT, B, exec, qs -c noctalia-shell ipc call bar toggle

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# GAMING MODE
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Toggle gaming mode (disable animations, performance mode)
bind = $mainMod SHIFT, G, exec, ~/.config/hypr/scripts/toggle-gaming-mode.sh

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# UTILITIES
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Google search
bind = $mainMod, S, exec, ~/.config/hypr/scripts/google-search.sh

# Emoji picker
bind = $mainMod ALT, E, exec, rofi -show emoji

# Color picker
bind = $mainMod ALT, C, exec, hyprpicker -a

# Idle inhibitor
bind = $mainMod, I, exec, qs -c noctalia-shell ipc call idleInhibitor toggle

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# MOUSE BINDINGS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Move/resize windows with mouse
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Scroll through workspaces
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Desktop zoom
bind = $mainMod ALT, mouse_down, exec, hyprctl keyword misc:cursor_zoom_factor "$(hyprctl getoption misc:cursor_zoom_factor | grep float | awk '{print $2 + 0.1}')"
bind = $mainMod ALT, mouse_up, exec, hyprctl keyword misc:cursor_zoom_factor "$(hyprctl getoption misc:cursor_zoom_factor | grep float | awk '{print $2 - 0.1}')"

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# NOTES
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# bind = one-time binding
# binde = repeating binding (hold key)
# bindm = mouse binding
# submap = mode/submap for complex bindings

# To see all keybindings: SUPER + H
# To search keybindings: SUPER + SHIFT + K